[1/42] Running cpp protocol buffer compiler on /home/runner/work/anolis/anolis/core/../spec/device-provider/protocol.proto
[2/42] Building CXX object core/CMakeFiles/anolis_proto.dir/protocol.pb.cc.o
[3/42] Building CXX object core/CMakeFiles/anolis_provider.dir/provider/framed_stdio_client.cpp.o
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:35:37: warning: 2 adjacent parameters of 'set_handles' of similar type ('anolis::provider::FramedStdioClient::PipeHandle') are easily swapped by mistake [bugprone-easily-swappable-parameters]
void FramedStdioClient::set_handles(PipeHandle stdin_write, PipeHandle stdout_read) {
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:35:48: note: the first parameter in the range is 'stdin_write'
void FramedStdioClient::set_handles(PipeHandle stdin_write, PipeHandle stdout_read) {
                                               ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:35:72: note: the last parameter in the range is 'stdout_read'
void FramedStdioClient::set_handles(PipeHandle stdin_write, PipeHandle stdout_read) {
                                                                       ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:49:33: warning: 0xFF is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    len_buf[0] = (len32 >> 0) & 0xFF;
                                ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:50:28: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    len_buf[1] = (len32 >> 8) & 0xFF;
                           ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:50:33: warning: 0xFF is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    len_buf[1] = (len32 >> 8) & 0xFF;
                                ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:51:28: warning: 16 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    len_buf[2] = (len32 >> 16) & 0xFF;
                           ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:51:34: warning: 0xFF is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    len_buf[2] = (len32 >> 16) & 0xFF;
                                 ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:52:28: warning: 24 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    len_buf[3] = (len32 >> 24) & 0xFF;
                           ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:52:34: warning: 0xFF is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    len_buf[3] = (len32 >> 24) & 0xFF;
                                 ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:92:75: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    uint32_t len = (uint32_t(len_buf[0]) << 0) | (uint32_t(len_buf[1]) << 8) | (uint32_t(len_buf[2]) << 16) |
                                                                          ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:92:105: warning: 16 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    uint32_t len = (uint32_t(len_buf[0]) << 0) | (uint32_t(len_buf[1]) << 8) | (uint32_t(len_buf[2]) << 16) |
                                                                                                        ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:93:45: warning: 24 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
                   (uint32_t(len_buf[3]) << 24);
                                            ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:168:50: warning: 2 adjacent parameters of 'read_exact' of convertible types are easily swapped by mistake [bugprone-easily-swappable-parameters]
bool FramedStdioClient::read_exact(uint8_t *buf, size_t n, int timeout_ms) {
                                                 ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:168:57: note: the first parameter in the range is 'n'
bool FramedStdioClient::read_exact(uint8_t *buf, size_t n, int timeout_ms) {
                                                        ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:168:64: note: the last parameter in the range is 'timeout_ms'
bool FramedStdioClient::read_exact(uint8_t *buf, size_t n, int timeout_ms) {
                                                               ^~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:168:50: note: 
bool FramedStdioClient::read_exact(uint8_t *buf, size_t n, int timeout_ms) {
                                                 ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:168:60: note: 'size_t' and 'int' may be implicitly converted: 'size_t' (as 'unsigned long') -> 'int', 'int' -> 'size_t' (as 'unsigned long')
bool FramedStdioClient::read_exact(uint8_t *buf, size_t n, int timeout_ms) {
                                                           ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.cpp:218:17: warning: variable name 'r' is too short, expected at least 3 characters [readability-identifier-length]
        ssize_t r = read(stdout_read_, buf + total, n - total);
                ^
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:36: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                   ^   ~
                                       U
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:44: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                           ^   ~
                                               U
[4/42] Building CXX object core/CMakeFiles/anolis_logging.dir/logging/logger.cpp.o
/home/runner/work/anolis/anolis/core/logging/logger.cpp:25:10: warning: variable name 'ms' is too short, expected at least 3 characters [readability-identifier-length]
    auto ms = std::chrono::duration_cast<std::chrono::milliseconds>(now.time_since_epoch()) % 1000;
         ^
/home/runner/work/anolis/anolis/core/logging/logger.cpp:25:95: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    auto ms = std::chrono::duration_cast<std::chrono::milliseconds>(now.time_since_epoch()) % 1000;
                                                                                              ^
/home/runner/work/anolis/anolis/core/logging/logger.cpp:68:17: warning: variable name 's' is too short, expected at least 3 characters [readability-identifier-length]
    std::string s = level_str;
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
[5/42] Linking CXX static library core/libanolis_logging.a
[6/42] Building CXX object core/CMakeFiles/anolis_provider.dir/provider/provider_process.cpp.o
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:36: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                   ^   ~
                                       U
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:44: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                           ^   ~
                                               U
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:22:34: warning: 2 adjacent parameters of 'ProviderProcess' of similar type ('const std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
ProviderProcess::ProviderProcess(const std::string &provider_id, const std::string &executable_path,
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:22:53: note: the first parameter in the range is 'provider_id'
ProviderProcess::ProviderProcess(const std::string &provider_id, const std::string &executable_path,
                                                    ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:22:85: note: the last parameter in the range is 'executable_path'
ProviderProcess::ProviderProcess(const std::string &provider_id, const std::string &executable_path,
                                                                                    ^~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:44:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[" << provider_id_ << "] Spawning: " << executable_path_);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:49:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[" << provider_id_ << "] " << error_);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:205:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("exec failed for " << abs_path << ": " << errno);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:218:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[" << provider_id_ << "] Process spawned successfully (PID=" << pid_ << ")");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:230:19: warning: statement should be inside braces [readability-braces-around-statements]
    if (pid_ <= 0) return false;
                  ^
                   {
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:243:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[" << provider_id_ << "] Initiating shutdown");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:249:33: warning: 2000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    bool exited = wait_for_exit(2000);
                                ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:252:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[" << provider_id_ << "] Clean shutdown");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:255:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_WARN("[" << provider_id_ << "] Timeout - forcing termination");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:257:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        wait_for_exit(500);
                      ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:293:63: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        std::this_thread::sleep_for(std::chrono::milliseconds(10));
                                                              ^
/home/runner/work/anolis/anolis/core/provider/provider_process.cpp:298:23: warning: method 'force_terminate' can be made const [readability-make-member-function-const]
void ProviderProcess::force_terminate() {
                      ^
                                        const
[7/42] Building CXX object core/CMakeFiles/anolis_registry.dir/registry/device_registry.cpp.o
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:11:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Registry] Discovering provider: " << provider_id);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:17:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[Registry] " << error_);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:21:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Registry] Found " << device_list.size() << " devices");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:26:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Registry] Describing device: " << device_id);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:31:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[Registry] " << error_);
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:42:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[Registry] " << error_);
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:50:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Registry] Registered: " << handle << " (" << reg_device.capabilities.signals_by_id.size()
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:67:10: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
    auto it = handle_to_index_.find(handle);
         ^
/home/runner/work/anolis/anolis/core/registry/device_registry.cpp:93:22: warning: method 'build_capabilities' can be made static [readability-convert-member-functions-to-static]
bool DeviceRegistry::build_capabilities(const anolis::deviceprovider::v0::Device &proto_device,
                     ^
[8/42] Building CXX object core/CMakeFiles/anolis_provider.dir/provider/provider_handle.cpp.o
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:36: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                   ^   ~
                                       U
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:44: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                           ^   ~
                                               U
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:17:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[" << process_.provider_id() << "] Starting provider");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:28:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[" << process_.provider_id() << "] Hello handshake failed: " << error_);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:32:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[" << process_.provider_id() << "] Hello succeeded: " << hello_response.provider_name() << " v"
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:192:22: warning: function 'wait_for_response' has cognitive complexity of 27 (threshold 25) [readability-function-cognitive-complexity]
bool ProviderHandle::wait_for_response(anolis::deviceprovider::v0::Response &response, int timeout_ms) {
                     ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:196:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    while (true) {
    ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:200:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (elapsed_ms >= timeout_ms) {
        ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:202:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_ERROR("[" << process_.provider_id() << "] " << error_);
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:208:42: note: +2, including nesting penalty of 1, nesting level increased to 2
        int poll_wait = (remaining > 50) ? 50 : remaining;
                                         ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:210:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (process_.client().wait_for_data(poll_wait)) {
        ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:215:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (read_timeout < 0) {
            ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:220:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (process_.client().read_frame(frame_data, read_timeout)) {
            ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:222:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                if (!response.ParseFromArray(frame_data.data(), static_cast<int>(frame_data.size()))) {
                ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:229:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (!process_.client().last_error().empty()) {
            ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:231:15: note: +1, nesting level increased to 3
            } else {
              ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:235:16: note: +1, nesting level increased to 2
        } else if (!process_.client().last_error().empty()) {
               ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:241:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (!process_.is_running()) {
        ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:202:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[" << process_.provider_id() << "] " << error_);
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:208:38: warning: 50 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        int poll_wait = (remaining > 50) ? 50 : remaining;
                                     ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:208:44: warning: 50 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        int poll_wait = (remaining > 50) ? 50 : remaining;
                                           ^
/home/runner/work/anolis/anolis/core/provider/provider_handle.cpp:235:11: warning: do not use 'else' after 'return' [readability-else-after-return]
        } else if (!process_.client().last_error().empty()) {
          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/provider/provider_handle.hpp:20:80: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
                   const std::vector<std::string> &args = {}, int timeout_ms = 5000);
                                                                               ^
[9/42] Building CXX object core/CMakeFiles/anolis_control.dir/control/call_router.cpp.o
/home/runner/work/anolis/anolis/core/automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:20:24: warning: function 'execute_call' has cognitive complexity of 27 (threshold 25) [readability-function-cognitive-complexity]
CallResult CallRouter::execute_call(
                       ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:27:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (mode_manager_ != nullptr && mode_manager_->current_mode() == automation::RuntimeMode::AUTO) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:27:34: note: +1
    if (mode_manager_ != nullptr && mode_manager_->current_mode() == automation::RuntimeMode::AUTO) {
                                 ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:28:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (manual_gating_policy_ == "BLOCK") {
        ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:31:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_WARN("[CallRouter] " << result.error_message);
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:33:16: note: +1, nesting level increased to 2
        } else if (manual_gating_policy_ == "OVERRIDE") {
               ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:40:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!validate_call(request, validation_error)) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:42:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (validation_error.find("not found") != std::string::npos) {
        ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:44:11: note: +1, nesting level increased to 2
        } else {
          ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:48:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_WARN("[CallRouter] Validation failed: " << validation_error);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:54:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!parse_device_handle(request.device_handle, provider_id, device_id, result.error_message)) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:61:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (provider_it == providers.end()) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:64:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_ERROR("[CallRouter] " << result.error_message);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:69:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!provider->is_available()) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:72:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_ERROR("[CallRouter] " << result.error_message);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:78:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (device == nullptr) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:86:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (func_it == device->capabilities.functions_by_id.end()) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:98:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!provider->call(device_id, func_spec->function_id, request.function_name, request.args, call_response)) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:101:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_ERROR("[CallRouter] Call failed: " << result.error_message << " (Code: " << result.status_code << ")");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:106:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    for (const auto &[key, value] : call_response.results()) {
    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:31:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[CallRouter] " << result.error_message);
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:33:11: warning: do not use 'else' after 'return' [readability-else-after-return]
        } else if (manual_gating_policy_ == "OVERRIDE") {
          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/control/call_router.cpp:48:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_WARN("[CallRouter] Validation failed: " << validation_error);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:53:5: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
    std::string provider_id, device_id;
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/control/call_router.cpp:64:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CallRouter] " << result.error_message);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:72:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CallRouter] " << result.error_message);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:101:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CallRouter] Call failed: " << result.error_message << " (Code: " << result.status_code << ")");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:124:5: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
    std::string provider_id, device_id;
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/control/call_router.cpp:131:10: warning: implicit conversion 'const anolis::registry::RegisteredDevice *' -> bool [readability-implicit-bool-conversion]
    if (!device) {
        ~^
                == nullptr
/home/runner/work/anolis/anolis/core/control/call_router.cpp:159:18: warning: method 'validate_function_exists' can be made static [readability-convert-member-functions-to-static]
bool CallRouter::validate_function_exists(const registry::RegisteredDevice &device, const std::string &function_name,
                 ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:161:10: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
    auto it = device.capabilities.functions_by_id.find(function_name);
         ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:200:13: warning: string concatenation results in allocation of unnecessary temporary strings; consider using 'operator+=' or 'string::append()' instead [performance-inefficient-string-concatenation]
            error = "Argument '" + arg_name + "': " + error;
            ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:200:53: warning: string concatenation results in allocation of unnecessary temporary strings; consider using 'operator+=' or 'string::append()' instead [performance-inefficient-string-concatenation]
            error = "Argument '" + arg_name + "': " + error;
                                                    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:206:13: warning: string concatenation results in allocation of unnecessary temporary strings; consider using 'operator+=' or 'string::append()' instead [performance-inefficient-string-concatenation]
            error = "Argument '" + arg_name + "': " + error;
            ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:206:53: warning: string concatenation results in allocation of unnecessary temporary strings; consider using 'operator+=' or 'string::append()' instead [performance-inefficient-string-concatenation]
            error = "Argument '" + arg_name + "': " + error;
                                                    ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:253:18: warning: method 'validate_argument_range' can be made static [readability-convert-member-functions-to-static]
bool CallRouter::validate_argument_range(const anolis::deviceprovider::v0::ArgSpec &spec,
                 ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:325:25: warning: method 'value_type_to_string' can be made static [readability-convert-member-functions-to-static]
std::string CallRouter::value_type_to_string(anolis::deviceprovider::v0::ValueType type) const {
                        ^                                                                ~~~~~~
/home/runner/work/anolis/anolis/core/control/call_router.cpp:345:18: warning: method 'parse_device_handle' can be made static [readability-convert-member-functions-to-static]
bool CallRouter::parse_device_handle(const std::string &device_handle, std::string &provider_id, std::string &device_id,
                 ^
/home/runner/work/anolis/anolis/core/control/call_router.cpp:345:98: warning: 2 adjacent parameters of 'parse_device_handle' of similar type ('std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
bool CallRouter::parse_device_handle(const std::string &device_handle, std::string &provider_id, std::string &device_id,
                                                                                                 ^~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/control/call_router.cpp:345:111: note: the first parameter in the range is 'device_id'
bool CallRouter::parse_device_handle(const std::string &device_handle, std::string &provider_id, std::string &device_id,
                                                                                                              ^~~~~~~~~
/home/runner/work/anolis/anolis/core/control/call_router.cpp:346:51: note: the last parameter in the range is 'error'
                                     std::string &error) const {
                                                  ^~~~~
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[10/42] Linking CXX static library core/libanolis_provider.a
[11/42] Linking CXX static library core/libanolis_registry.a
[12/42] Building CXX object core/CMakeFiles/anolis_automation.dir/automation/mode_manager.cpp.o
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:39:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_WARN("[ModeManager] Unknown mode string '" << str << "', defaulting to MANUAL");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:44:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[ModeManager] Initialized in " << mode_to_string(initial_mode) << " mode");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:68:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[ModeManager] " << error);
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:75:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[ModeManager] Mode changed: " << mode_to_string(previous_mode) << " -> " << mode_to_string(new_mode));
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:86:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[ModeManager] Error in mode change callback: " << e.what());
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:93:53: warning: the parameter 'callback' is copied for each invocation but only used as a const reference; consider making it a const reference [performance-unnecessary-value-param]
void ModeManager::on_mode_change(ModeChangeCallback callback) {
                                                    ^
                                 const             &
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:98:19: warning: method 'is_valid_transition' can be made static [readability-convert-member-functions-to-static]
bool ModeManager::is_valid_transition(RuntimeMode from, RuntimeMode to) const {
                  ^                                                     ~~~~~~
/home/runner/work/anolis/anolis/core/automation/mode_manager.cpp:98:69: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
bool ModeManager::is_valid_transition(RuntimeMode from, RuntimeMode to) const {
                                                                    ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
[13/42] Building CXX object core/CMakeFiles/anolis_state.dir/state/state_cache.cpp.o
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:65:34: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (dropped_count_ % 100 == 1) {
                                 ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:167:33: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    Subscription(SubscriptionId id, std::shared_ptr<SubscriberQueue> queue,
                                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:169:27: warning: parameter 'queue' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                          ^
                          std::move( )
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:169:51: warning: parameter 'unsubscribe_fn' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                                                  ^
                                                  std::move(    )
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:197:47: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::optional<Event> pop(int timeout_ms = 100) {
                                              ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:267:10: warning: function 'matches' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
    bool matches(const Event &event) const {
         ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:269:13: note: nesting level increased to 1
            [this](auto &&e) -> bool {
            ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:273:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!provider_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:274:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:274:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:276:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.provider_id != provider_id) {
                        ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:283:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!device_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:284:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:284:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:286:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.device_id != device_id) {
                        ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:293:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!signal_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:294:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:294:71: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                                                                      ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:295:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.signal_id != signal_id) {
                        ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:269:27: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
            [this](auto &&e) -> bool {
                          ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:27: warning: 2 adjacent parameters of 'EventEmitter' of similar type ('size_t') are easily swapped by mistake [bugprone-easily-swappable-parameters]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:34: note: the first parameter in the range is 'default_queue_size'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                 ^~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:67: note: the last parameter in the range is 'max_subscribers'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                  ^~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:55: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                      ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:85: warning: 32 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:355:14: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        auto id = next_subscription_id_++;
             ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:381:18: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        uint64_t id = next_event_id_++;
                 ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:382:32: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
        std::visit([id](auto &&e) { e.event_id = id; }, event);
                               ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:419:37: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    void unsubscribe(SubscriptionId id) {
                                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:422:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = subscribers_.find(id);
             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:39:102: warning: parameter 'emitter' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
void StateCache::set_event_emitter(std::shared_ptr<events::EventEmitter> emitter) { event_emitter_ = emitter; }
                                                                                                     ^
                                                                                                     std::move( )
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:77:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_WARN("[StateCache] Polling already active");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:82:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[StateCache] Polling thread starting");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:97:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_WARN("[StateCache] Poll took longer than interval ("
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:101:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[StateCache] Polling thread exited");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:115:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = providers.find(config.provider_id);
             ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:117:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[StateCache] Provider " << config.provider_id << " not found");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:123:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[StateCache] Provider " << config.provider_id << " not available");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:149:18: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
            auto it = providers.find(config.provider_id);
                 ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:157:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_WARN("[StateCache] No poll config found for " << device_handle);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:167:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[StateCache] ReadSignals failed for " << device_id << ": " << provider.last_error());
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:172:18: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
            auto it = device_states_.find(device_handle);
                 ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:188:38: warning: 2 adjacent parameters of 'update_device_state' of similar type ('const std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
void StateCache::update_device_state(const std::string &device_handle, const std::string &provider_id,
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:188:57: note: the first parameter in the range is 'device_handle'
void StateCache::update_device_state(const std::string &device_handle, const std::string &provider_id,
                                                        ^~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:188:91: note: the last parameter in the range is 'provider_id'
void StateCache::update_device_state(const std::string &device_handle, const std::string &provider_id,
                                                                                          ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:192:10: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
    auto it = device_states_.find(device_handle);
         ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:194:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_WARN("[StateCache] Device state not found: " << device_handle);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:222:18: warning: the variable 'proto_ts' is copy-constructed from a const reference but is only used as const reference; consider making it a const reference [performance-unnecessary-copy-initialization]
            auto proto_ts = signal_value.timestamp();
                 ^
            const  &
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:239:18: warning: method 'value_changed' can be made static [readability-convert-member-functions-to-static]
bool StateCache::value_changed(const anolis::deviceprovider::v0::Value &old_val,
                 ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:252:13: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
            uint64_t old_bits, new_bits;
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:273:18: warning: method 'quality_changed' can be made static [readability-convert-member-functions-to-static]
bool StateCache::quality_changed(anolis::deviceprovider::v0::SignalValue_Quality old_q,
                 ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:339:10: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
    auto it = device_states_.find(device_handle);
         ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:341:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_DEBUG("[StateCache] get_device_state: " << device_handle << " not found");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:37:24: note: expanded from macro 'LOG_DEBUG'
#define LOG_DEBUG(msg) LOG_INTERNAL(anolis::logging::Level::LVL_DEBUG, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:345:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_DEBUG("[StateCache] get_device_state: " << device_handle << " found (signals=" << it->second.signals.size()
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:37:24: note: expanded from macro 'LOG_DEBUG'
#define LOG_DEBUG(msg) LOG_INTERNAL(anolis::logging::Level::LVL_DEBUG, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:351:65: warning: 2 adjacent parameters of 'get_signal_value' of similar type ('const std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
std::shared_ptr<CachedSignalValue> StateCache::get_signal_value(const std::string &device_handle,
                                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:351:84: note: the first parameter in the range is 'device_handle'
std::shared_ptr<CachedSignalValue> StateCache::get_signal_value(const std::string &device_handle,
                                                                                   ^~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:352:84: note: the last parameter in the range is 'signal_id'
                                                                const std::string &signal_id) const {
                                                                                   ^~~~~~~~~
/home/runner/work/anolis/anolis/core/state/state_cache.cpp:354:10: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
    auto it = device_states_.find(device_handle);
         ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[14/42] Linking CXX static library core/libanolis_state.a
[15/42] Linking CXX static library core/libanolis_control.a
[16/42] Building CXX object core/CMakeFiles/anolis_telemetry.dir/telemetry/influx_sink.cpp.o
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:65:34: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (dropped_count_ % 100 == 1) {
                                 ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:167:33: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    Subscription(SubscriptionId id, std::shared_ptr<SubscriberQueue> queue,
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:169:27: warning: parameter 'queue' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                          ^
                          std::move( )
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:169:51: warning: parameter 'unsubscribe_fn' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                                                  ^
                                                  std::move(    )
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:197:47: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::optional<Event> pop(int timeout_ms = 100) {
                                              ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:267:10: warning: function 'matches' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
    bool matches(const Event &event) const {
         ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:269:13: note: nesting level increased to 1
            [this](auto &&e) -> bool {
            ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:273:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!provider_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:274:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:274:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:276:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.provider_id != provider_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:283:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!device_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:284:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:284:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:286:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.device_id != device_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:293:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!signal_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:294:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:294:71: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                                                                      ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:295:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.signal_id != signal_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:269:27: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
            [this](auto &&e) -> bool {
                          ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:27: warning: 2 adjacent parameters of 'EventEmitter' of similar type ('size_t') are easily swapped by mistake [bugprone-easily-swappable-parameters]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:34: note: the first parameter in the range is 'default_queue_size'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                 ^~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:67: note: the last parameter in the range is 'max_subscribers'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                  ^~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:55: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                      ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:85: warning: 32 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:355:14: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        auto id = next_subscription_id_++;
             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:381:18: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        uint64_t id = next_event_id_++;
                 ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:382:32: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
        std::visit([id](auto &&e) { e.event_id = id; }, event);
                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:419:37: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    void unsubscribe(SubscriptionId id) {
                                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:422:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = subscribers_.find(id);
             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:18:18: warning: function 'flush_batch' has cognitive complexity of 28 (threshold 25) [readability-function-cognitive-complexity]
void InfluxSink::flush_batch() {
                 ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:23:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (batch_.empty()) {
        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:33:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    for (const auto &line : lines_to_write) {
    ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:38:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    for (const auto &line : lines_to_write) {
    ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:61:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (result) {
    ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:62:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (result->status >= 200 && result->status < 300) {
        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:62:35: note: +1
        if (result->status >= 200 && result->status < 300) {
                                  ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:68:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (total_written_.load() % 1000 == 0) {
            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:69:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                LOG_INFO("[InfluxSink] Written " << total_written_.load() << " events to InfluxDB");
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:71:11: note: +1, nesting level increased to 2
        } else {
          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:80:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (elapsed >= 10) {  // Log at most every 10 seconds
            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:81:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                LOG_WARN("[InfluxSink] HTTP error " << result->status << ": " << result->body);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:85:7: note: +1, nesting level increased to 1
    } else {
      ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:94:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (elapsed >= 10) {
        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:96:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_ERROR("[InfluxSink] Connection error: " << httplib::to_string(err));
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:59:32: warning: redundant call to 'c_str' [readability-redundant-string-cstr]
    auto result = client->Post(path.c_str(), headers, body, "text/plain");
                               ^~~~~~~~~~~~
                               path
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:62:31: warning: 200 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        if (result->status >= 200 && result->status < 300) {
                              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:62:55: warning: 300 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        if (result->status >= 200 && result->status < 300) {
                                                      ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:68:41: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (total_written_.load() % 1000 == 0) {
                                        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:69:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_INFO("[InfluxSink] Written " << total_written_.load() << " events to InfluxDB");
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:80:28: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (elapsed >= 10) {  // Log at most every 10 seconds
                           ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:81:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_WARN("[InfluxSink] HTTP error " << result->status << ": " << result->body);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:94:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        if (elapsed >= 10) {
                       ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.cpp:96:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[InfluxSink] Connection error: " << httplib::to_string(err));
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:57:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:58:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:61:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // HTTP request timeout
                     ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:62:29: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int retry_interval_ms = 10000;  // Retry interval on connection failure
                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:65:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:74:50: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
inline std::string escape_tag(const std::string &s) {
                                                 ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:76:31: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    result.reserve(s.size() + 10);  // Reserve extra for escapes
                              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:77:15: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (char c : s) {
              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:86:59: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
inline std::string escape_field_string(const std::string &s) {
                                                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:88:31: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    result.reserve(s.size() + 10);
                              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:89:15: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (char c : s) {
              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:128:38: warning: repeated branch in conditional chain [bugprone-branch-clone]
                if (std::isnan(arg)) {
                                     ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:131:18: note: end of the original
                } else if (std::isinf(arg)) {
                 ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:131:45: note: clone 1 starts here
                } else if (std::isinf(arg)) {
                                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:240:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[InfluxSink] Already running");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:245:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_INFO("[InfluxSink] Telemetry disabled in config");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:250:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[InfluxSink] No API token configured");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:254:20: warning: parameter 'emitter' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        emitter_ = emitter;
                   ^
                   std::move( )
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:260:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[InfluxSink] Failed to subscribe to events");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:267:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[InfluxSink] Started, writing to " << config_.url << "/" << config_.bucket);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:277:30: warning: statement should be inside braces [readability-braces-around-statements]
        if (!running_.load()) return;
                             ^
                              {
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:293:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[InfluxSink] Stopped. Written: " << total_written_ << ", Failed: " << total_failed_);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:333:49: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            auto event_opt = subscription_->pop(100);  // 100ms timeout
                                                ^
[17/42] Building CXX object core/CMakeFiles/anolis_automation.dir/automation/parameter_manager.cpp.o
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:68:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_WARN("[ParameterManager] Parameter '" << name << "' already defined, ignoring redefinition");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:73:59: warning: parameter 'allowed_values' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
    ParameterDef def{name, type, default_value, min, max, allowed_values};
                                                          ^
                                                          std::move(    )
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:76:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[ParameterManager] Parameter '" << name << "' default value invalid: " << error);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:92:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = parameters_.find(name);
             ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:126:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[ParameterManager] Parameter '" << name << "' updated");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:140:10: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
    auto it = parameters_.find(name);
         ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:150:32: warning: statement should be inside braces [readability-braces-around-statements]
    if (!value_opt.has_value()) return default_value;
                               ^
                                {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:161:32: warning: statement should be inside braces [readability-braces-around-statements]
    if (!value_opt.has_value()) return default_value;
                               ^
                                {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:172:32: warning: statement should be inside braces [readability-braces-around-statements]
    if (!value_opt.has_value()) return default_value;
                               ^
                                {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:181:42: warning: 2 adjacent parameters of 'get_string' of similar type ('const std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
std::string ParameterManager::get_string(const std::string &name, const std::string &default_value) const {
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:181:61: note: the first parameter in the range is 'name'
std::string ParameterManager::get_string(const std::string &name, const std::string &default_value) const {
                                                            ^~~~
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:181:86: note: the last parameter in the range is 'default_value'
std::string ParameterManager::get_string(const std::string &name, const std::string &default_value) const {
                                                                                     ^~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:183:32: warning: statement should be inside braces [readability-braces-around-statements]
    if (!value_opt.has_value()) return default_value;
                               ^
                                {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:195:10: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
    auto it = parameters_.find(name);
         ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.cpp:208:68: warning: the parameter 'callback' is copied for each invocation but only used as a const reference; consider making it a const reference [performance-unnecessary-value-param]
void ParameterManager::on_parameter_change(ParameterChangeCallback callback) {
                                                                   ^
                                           const                  &
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:70:68: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *parameter_value_type_name(const ParameterValue &v) {
                                                                   ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:71:43: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<double>(v)) return "double";
                                          ^
                                           {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:72:44: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<int64_t>(v)) return "int64";
                                           ^
                                            {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:73:41: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<bool>(v)) return "bool";
                                        ^
                                         {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:74:48: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<std::string>(v)) return "string";
                                               ^
                                                {
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
[18/42] Building CXX object core/CMakeFiles/anolis_automation.dir/automation/bt_runtime.cpp.o
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:30:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[BTRuntime] Initialized");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:38:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[BTRuntime] Registered custom node types");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:47:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[BTRuntime] Cannot open BT file: " << path);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:61:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[BTRuntime] BT loaded successfully: " << path);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:64:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[BTRuntime] Error loading BT: " << e.what());
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:72:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[BTRuntime] Already running");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:77:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[BTRuntime] No BT loaded, call load_tree() first");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:81:45: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    if (tick_rate_hz <= 0 || tick_rate_hz > 1000) {
                                            ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:82:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[BTRuntime] Invalid tick rate: " << tick_rate_hz << " (must be 1-1000 Hz)");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:91:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[BTRuntime] Started tick loop at " << tick_rate_hz << " Hz");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:100:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[BTRuntime] Stopping tick loop...");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:108:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[BTRuntime] Tick loop stopped");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:116:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[BTRuntime] Cannot tick, no tree loaded");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:129:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[BTRuntime] Tick loop started (period: " << tick_period.count() << "ms)");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:149:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_INFO("[BTRuntime] BT completed successfully");
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:151:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_WARN("[BTRuntime] BT failed");
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:155:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[BTRuntime] Error during tick: " << e.what());
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.cpp:163:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[BTRuntime] Tick loop exiting");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:58:28: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        int tick_rate_hz = 10;           // BT tick frequency (default 10 Hz)
                           ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:103:35: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    bool start(int tick_rate_hz = 10);
                                  ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:154:25: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz_ = 10;
                        ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:70:68: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *parameter_value_type_name(const ParameterValue &v) {
                                                                   ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:71:43: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<double>(v)) return "double";
                                          ^
                                           {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:72:44: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<int64_t>(v)) return "int64";
                                           ^
                                            {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:73:41: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<bool>(v)) return "bool";
                                        ^
                                         {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:74:48: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<std::string>(v)) return "string";
                                               ^
                                                {
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[19/42] Building CXX object core/CMakeFiles/anolis_automation.dir/automation/bt_nodes.cpp.o
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:53:86: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
static std::string quality_to_string(anolis::deviceprovider::v0::SignalValue_Quality q) {
                                                                                     ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:69:93: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
static anolis::deviceprovider::v0::SignalValue_Quality string_to_quality(const std::string &s) {
                                                                                            ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:86:65: warning: parameter name 'd' is too short, expected at least 3 characters [readability-identifier-length]
static anolis::deviceprovider::v0::Value double_to_value(double d) {
                                                                ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:94:65: warning: parameter name 'i' is too short, expected at least 3 characters [readability-identifier-length]
static anolis::deviceprovider::v0::Value int64_to_value(int64_t i) {
                                                                ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:102:61: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
static anolis::deviceprovider::v0::Value bool_to_value(bool b) {
                                                            ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:110:77: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
static anolis::deviceprovider::v0::Value string_to_value(const std::string &s) {
                                                                            ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:132:5: warning: 'auto state_cache' can be declared as 'auto *state_cache' [readability-qualified-auto]
    auto state_cache = get_state_cache();
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:134:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[ReadSignalNode] StateCache not available in blackboard");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:143:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[ReadSignalNode] Missing required input ports");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:151:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[ReadSignalNode] Signal not found: " << device_handle.value() << "/" << signal_id.value());
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:171:5: warning: 'auto ptr' can be declared as 'auto *ptr' [readability-qualified-auto]
    auto ptr = blackboard->get<void *>("state_cache");
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:197:32: warning: function 'tick' has cognitive complexity of 39 (threshold 25) [readability-function-cognitive-complexity]
BT::NodeStatus CallDeviceNode::tick() {
                               ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:199:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (call_router == nullptr) {
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:200:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_ERROR("[CallDeviceNode] CallRouter not available in blackboard");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:210:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!device_handle || !function_name) {
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:210:24: note: +1
    if (!device_handle || !function_name) {
                       ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:211:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_ERROR("[CallDeviceNode] Missing required input ports");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:224:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!args_str.empty() && args_str != "{}") {
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:224:27: note: +1
    if (!args_str.empty() && args_str != "{}") {
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:227:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (!json_args.is_object()) {
            ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:228:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                LOG_ERROR("[CallDeviceNode] args must be a JSON object, got: " << args_str);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:233:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            for (auto &[key, value] : json_args.items()) {
            ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:234:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (value.is_number_float()) {
                ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:236:24: note: +1, nesting level increased to 3
                } else if (value.is_number_integer()) {
                       ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:239:24: note: +1, nesting level increased to 3
                } else if (value.is_boolean()) {
                       ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:241:24: note: +1, nesting level increased to 3
                } else if (value.is_string()) {
                       ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:243:19: note: +1, nesting level increased to 3
                } else {
                  ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:244:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    LOG_ERROR("[CallDeviceNode] Unsupported JSON type for arg '" << key << "'");
                    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:250:11: note: +2, including nesting penalty of 1, nesting level increased to 2
        } catch (const nlohmann::json::parse_error &e) {
          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:251:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_ERROR("[CallDeviceNode] JSON parse error: " << e.what());
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:260:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (providers == nullptr) {
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:261:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_ERROR("[CallDeviceNode] Providers map not available in blackboard");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:273:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (result.success) {
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:274:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[CallDeviceNode] Call succeeded: " << device_handle.value() << "/" << function_name.value());
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:278:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    LOG_ERROR("[CallDeviceNode] Call failed: " << result.error_message);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:198:5: warning: 'auto call_router' can be declared as 'auto *call_router' [readability-qualified-auto]
    auto call_router = get_call_router();
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:200:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CallDeviceNode] CallRouter not available in blackboard");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:211:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CallDeviceNode] Missing required input ports");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:228:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_ERROR("[CallDeviceNode] args must be a JSON object, got: " << args_str);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:233:18: warning: 'auto &' can be declared as 'const auto &' [readability-qualified-auto]
            for (auto &[key, value] : json_args.items()) {
                 ^
                 const 
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:244:21: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                    LOG_ERROR("[CallDeviceNode] Unsupported JSON type for arg '" << key << "'");
                    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:251:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[CallDeviceNode] JSON parse error: " << e.what());
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:259:5: warning: 'auto providers' can be declared as 'auto *providers' [readability-qualified-auto]
    auto providers = get_providers();
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:261:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CallDeviceNode] Providers map not available in blackboard");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:274:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[CallDeviceNode] Call succeeded: " << device_handle.value() << "/" << function_name.value());
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:278:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_ERROR("[CallDeviceNode] Call failed: " << result.error_message);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:290:5: warning: 'auto ptr' can be declared as 'auto *ptr' [readability-qualified-auto]
    auto ptr = blackboard->get<void *>(key);
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:319:5: warning: 'auto state_cache' can be declared as 'auto *state_cache' [readability-qualified-auto]
    auto state_cache = get_state_cache();
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:321:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CheckQualityNode] StateCache not available in blackboard");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:331:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CheckQualityNode] Missing required input ports");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:339:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[CheckQualityNode] Signal not found: " << device_handle.value() << "/" << signal_id.value());
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:350:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[CheckQualityNode] Quality mismatch: expected " << expected_quality_str << ", got "
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:361:5: warning: 'auto ptr' can be declared as 'auto *ptr' [readability-qualified-auto]
    auto ptr = blackboard->get<void *>("state_cache");
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:382:5: warning: 'auto parameter_manager' can be declared as 'auto *parameter_manager' [readability-qualified-auto]
    auto parameter_manager = get_parameter_manager();
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:383:10: warning: implicit conversion 'anolis::automation::ParameterManager *' -> bool [readability-implicit-bool-conversion]
    if (!parameter_manager) {
        ~^
                           == nullptr
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:384:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[GetParameterNode] ParameterManager not available in blackboard");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:391:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[GetParameterNode] Missing 'param' input port");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:398:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[GetParameterNode] Parameter not found: " << param_name.value());
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:416:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[GetParameterNode] Parameter '" << param_name.value() << "' is a string, cannot convert to double");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:422:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[GetParameterNode] Read parameter '" << param_name.value() << "' = " << output_value);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:429:21: warning: statement should be inside braces [readability-braces-around-statements]
    if (!blackboard) return nullptr;
                    ^
                     {
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:431:5: warning: 'auto ptr' can be declared as 'auto *ptr' [readability-qualified-auto]
    auto ptr = blackboard->get<void *>("parameter_manager");
    ^~~~~
    auto *
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:432:10: warning: implicit conversion 'void *' -> bool [readability-implicit-bool-conversion]
    if (!ptr) return nullptr;
        ~^
             == nullptr
/home/runner/work/anolis/anolis/core/automation/bt_nodes.cpp:432:14: warning: statement should be inside braces [readability-braces-around-statements]
    if (!ptr) return nullptr;
             ^
              {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:70:68: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *parameter_value_type_name(const ParameterValue &v) {
                                                                   ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:71:43: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<double>(v)) return "double";
                                          ^
                                           {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:72:44: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<int64_t>(v)) return "int64";
                                           ^
                                            {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:73:41: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<bool>(v)) return "bool";
                                        ^
                                         {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:74:48: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<std::string>(v)) return "string";
                                               ^
                                                {
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[20/42] Building CXX object core/CMakeFiles/anolis_http.dir/http/json.cpp.o
/home/runner/work/anolis/anolis/core/http/json.cpp:18:17: warning: 6 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int bits = -6;
                ^
/home/runner/work/anolis/anolis/core/http/json.cpp:20:24: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (unsigned char c : bytes) {
                       ^
/home/runner/work/anolis/anolis/core/http/json.cpp:21:23: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        val = (val << 8) + c;
                      ^
/home/runner/work/anolis/anolis/core/http/json.cpp:22:17: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        bits += 8;
                ^
/home/runner/work/anolis/anolis/core/http/json.cpp:24:60: warning: 0x3F is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            encoded.push_back(base64_chars[(val >> bits) & 0x3F]);
                                                           ^
/home/runner/work/anolis/anolis/core/http/json.cpp:25:21: warning: 6 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            bits -= 6;
                    ^
/home/runner/work/anolis/anolis/core/http/json.cpp:28:17: warning: 6 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    if (bits > -6) {
                ^
/home/runner/work/anolis/anolis/core/http/json.cpp:29:49: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        encoded.push_back(base64_chars[((val << 8) >> (bits + 8)) & 0x3F]);
                                                ^
/home/runner/work/anolis/anolis/core/http/json.cpp:29:63: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        encoded.push_back(base64_chars[((val << 8) >> (bits + 8)) & 0x3F]);
                                                              ^
/home/runner/work/anolis/anolis/core/http/json.cpp:29:69: warning: 0x3F is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        encoded.push_back(base64_chars[((val << 8) >> (bits + 8)) & 0x3F]);
                                                                    ^
/home/runner/work/anolis/anolis/core/http/json.cpp:39:22: warning: variable name 'T' is too short, expected at least 3 characters [readability-identifier-length]
    std::vector<int> T(256, -1);
                     ^
/home/runner/work/anolis/anolis/core/http/json.cpp:39:24: warning: 256 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::vector<int> T(256, -1);
                       ^
/home/runner/work/anolis/anolis/core/http/json.cpp:40:25: warning: 64 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    for (int i = 0; i < 64; i++) {
                        ^
/home/runner/work/anolis/anolis/core/http/json.cpp:45:17: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int bits = -8;
                ^
/home/runner/work/anolis/anolis/core/http/json.cpp:46:24: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (unsigned char c : encoded) {
                       ^
/home/runner/work/anolis/anolis/core/http/json.cpp:50:23: warning: 6 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        val = (val << 6) + T[c];
                      ^
/home/runner/work/anolis/anolis/core/http/json.cpp:51:17: warning: 6 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        bits += 6;
                ^
/home/runner/work/anolis/anolis/core/http/json.cpp:53:52: warning: 0xFF is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            decoded.push_back(char((val >> bits) & 0xFF));
                                                   ^
/home/runner/work/anolis/anolis/core/http/json.cpp:54:21: warning: 8 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            bits -= 8;
                    ^
/home/runner/work/anolis/anolis/core/http/json.cpp:311:54: warning: 2 adjacent parameters of 'decode_call_request' of similar type ('std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
bool decode_call_request(const nlohmann::json &json, std::string &provider_id, std::string &device_id,
                                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/json.cpp:311:67: note: the first parameter in the range is 'provider_id'
bool decode_call_request(const nlohmann::json &json, std::string &provider_id, std::string &device_id,
                                                                  ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/json.cpp:311:93: note: the last parameter in the range is 'device_id'
bool decode_call_request(const nlohmann::json &json, std::string &provider_id, std::string &device_id,
                                                                                            ^~~~~~~~~
/home/runner/work/anolis/anolis/core/http/json.cpp:343:21: warning: string concatenation results in allocation of unnecessary temporary strings; consider using 'operator+=' or 'string::append()' instead [performance-inefficient-string-concatenation]
                    error = "Invalid value for arg '" + key + "': " + error;
                    ^
/home/runner/work/anolis/anolis/core/http/json.cpp:343:69: warning: string concatenation results in allocation of unnecessary temporary strings; consider using 'operator+=' or 'string::append()' instead [performance-inefficient-string-concatenation]
                    error = "Invalid value for arg '" + key + "': " + error;
                                                                    ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[21/42] Linking CXX static library core/libanolis_telemetry.a
[22/42] Linking CXX static library core/libanolis_automation.a
[23/42] Building CXX object core/CMakeFiles/anolis_runtime.dir/runtime/config.cpp.o
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/runtime/config.cpp:37:6: warning: function 'validate_config' has cognitive complexity of 34 (threshold 25) [readability-function-cognitive-complexity]
bool validate_config(const RuntimeConfig &config, std::string &error) {
     ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:39:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config.http.enabled) {
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:40:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (config.http.port < 1 || config.http.port > 65535) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:40:34: note: +1
        if (config.http.port < 1 || config.http.port > 65535) {
                                 ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:44:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (config.http.thread_pool_size < 1) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:48:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (config.http.cors_allowed_origins.empty()) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:55:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config.providers.empty()) {
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:60:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    for (const auto &provider : config.providers) {
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:61:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (provider.id.empty()) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:65:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (provider.command.empty()) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:69:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (provider.timeout_ms < 100) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:76:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config.polling.interval_ms < 100) {
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:82:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config.logging.level != "debug" && config.logging.level != "info" && config.logging.level != "warn" &&
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:82:109: note: +1
    if (config.logging.level != "debug" && config.logging.level != "info" && config.logging.level != "warn" &&
                                                                                                            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:89:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config.automation.enabled) {
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:90:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (config.automation.behavior_tree.empty()) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:94:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (config.automation.tick_rate_hz < 1 || config.automation.tick_rate_hz > 1000) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:94:48: note: +1
        if (config.automation.tick_rate_hz < 1 || config.automation.tick_rate_hz > 1000) {
                                               ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:99:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        for (const auto &param : config.automation.parameters) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:100:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (param.name.empty()) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:104:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (param.type != "double" && param.type != "int64" && param.type != "bool" && param.type != "string") {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:104:89: note: +1
            if (param.type != "double" && param.type != "int64" && param.type != "bool" && param.type != "string") {
                                                                                        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:40:56: warning: 65535 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        if (config.http.port < 1 || config.http.port > 65535) {
                                                       ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:69:35: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        if (provider.timeout_ms < 100) {
                                  ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:76:38: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    if (config.polling.interval_ms < 100) {
                                     ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:94:84: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        if (config.automation.tick_rate_hz < 1 || config.automation.tick_rate_hz > 1000) {
                                                                                   ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:114:6: warning: function 'load_config' has cognitive complexity of 176 (threshold 25) [readability-function-cognitive-complexity]
bool load_config(const std::string &config_path, RuntimeConfig &config, std::string &error) {
     ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:121:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        for (const auto &key_node : yaml) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:124:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            for (const auto &valid_key : valid_keys) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:125:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (key == valid_key) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:130:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (!known) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:131:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                LOG_WARN("[Config] Unknown top-level key: '" << key << "' (will be ignored)");
                ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:136:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (yaml["runtime"]) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:137:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["runtime"]["mode"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:152:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (yaml["http"]) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:153:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["http"]["enabled"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:156:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["http"]["bind"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:159:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["http"]["port"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:164:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["http"]["cors_allowed_origins"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:167:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (origins_node.IsSequence()) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:168:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    for (const auto &origin : origins_node) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:171:24: note: +1, nesting level increased to 3
                } else if (origins_node.IsScalar()) {
                       ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:175:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (config.http.cors_allowed_origins.empty()) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:179:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["http"]["cors_allow_credentials"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:183:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["http"]["thread_pool_size"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:189:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (yaml["providers"]) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:190:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            for (const auto &provider_node : yaml["providers"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:193:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (provider_node["id"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:197:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (provider_node["command"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:201:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (provider_node["args"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:202:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    for (const auto &arg : provider_node["args"]) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:207:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (provider_node["timeout_ms"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:216:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (yaml["polling"]) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:217:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["polling"]["interval_ms"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:223:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (yaml["telemetry"]) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:224:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["telemetry"]["enabled"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:231:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            for (const auto &deprecated_key : deprecated_flat_keys) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:232:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (yaml["telemetry"][deprecated_key]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:235:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (canonical_key.find("influx_") == 0) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:238:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    LOG_WARN("[Config] Deprecated telemetry key 'telemetry."
                    ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:244:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["telemetry"]["influxdb"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:247:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (influx["url"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:250:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (influx["org"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:253:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (influx["bucket"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:256:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (influx["token"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:259:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (influx["batch_size"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:262:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (influx["flush_interval_ms"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:268:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (config.telemetry.enabled && config.telemetry.influx_token.empty()) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:268:42: note: +1
            if (config.telemetry.enabled && config.telemetry.influx_token.empty()) {
                                         ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:270:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (token_env != nullptr) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:277:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (yaml["logging"]) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:278:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["logging"]["level"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:284:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (yaml["automation"]) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:285:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["automation"]["enabled"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:288:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["automation"]["behavior_tree"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:291:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["automation"]["tick_rate_hz"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:294:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["automation"]["manual_gating_policy"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:297:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (!policy) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:305:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (yaml["automation"]["parameters"]) {
            ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:306:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                for (const auto &param_node : yaml["automation"]["parameters"]) {
                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:309:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (param_node["name"]) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:313:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (param_node["type"]) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:318:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (param_node["default"]) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:319:25: note: +5, including nesting penalty of 4, nesting level increased to 5
                        if (param.type == "double") {
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:321:32: note: +1, nesting level increased to 5
                        } else if (param.type == "int64") {
                               ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:323:32: note: +1, nesting level increased to 5
                        } else if (param.type == "bool") {
                               ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:325:32: note: +1, nesting level increased to 5
                        } else if (param.type == "string") {
                               ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:331:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (param_node["min"]) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:335:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (param_node["max"]) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:341:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (param_node["allowed_values"]) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:342:25: note: +5, including nesting penalty of 4, nesting level increased to 5
                        for (const auto &val : param_node["allowed_values"]) {
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:353:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (!validate_config(config, error)) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:357:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        LOG_INFO("[Config] Loaded " << config.providers.size() << " provider(s)");
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:358:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        LOG_INFO("[Config] Runtime mode: " << automation::mode_to_string(config.runtime.mode));
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:361:63: note: +1, including nesting penalty of 0, nesting level increased to 1
        http_msg << "[Config] HTTP: " << (config.http.enabled ? "enabled" : "disabled");
                                                              ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:362:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (config.http.enabled) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:365:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        LOG_INFO(http_msg.str());
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:367:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        LOG_INFO("[Config] Polling interval: " << config.polling.interval_ms << "ms");
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:370:78: note: +1, including nesting penalty of 0, nesting level increased to 1
        telemetry_msg << "[Config] Telemetry: " << (config.telemetry.enabled ? "enabled" : "disabled");
                                                                             ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:371:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (config.telemetry.enabled) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:374:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        LOG_INFO(telemetry_msg.str());
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:376:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        LOG_INFO("[Config] Log level: " << config.logging.level);
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:379:81: note: +1, including nesting penalty of 0, nesting level increased to 1
        automation_msg << "[Config] Automation: " << (config.automation.enabled ? "enabled" : "disabled");
                                                                                ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:380:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        if (config.automation.enabled) {
        ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:385:9: note: +1, including nesting penalty of 0, nesting level increased to 1
        LOG_INFO(automation_msg.str());
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:388:7: note: +1, including nesting penalty of 0, nesting level increased to 1
    } catch (const YAML::BadFile &e) {
      ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:391:7: note: +1, including nesting penalty of 0, nesting level increased to 1
    } catch (const YAML::ParserException &e) {
      ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:394:7: note: +1, including nesting penalty of 0, nesting level increased to 1
    } catch (const std::exception &e) {
      ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:131:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_WARN("[Config] Unknown top-level key: '" << key << "' (will be ignored)");
                ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:236:62: warning: 7 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
                        canonical_key = canonical_key.substr(7);  // Remove "influx_" prefix
                                                             ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:238:21: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                    LOG_WARN("[Config] Deprecated telemetry key 'telemetry."
                    ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:357:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Config] Loaded " << config.providers.size() << " provider(s)");
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:358:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Config] Runtime mode: " << automation::mode_to_string(config.runtime.mode));
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:365:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO(http_msg.str());
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:367:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Config] Polling interval: " << config.polling.interval_ms << "ms");
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:374:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO(telemetry_msg.str());
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:376:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Config] Log level: " << config.logging.level);
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.cpp:385:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO(automation_msg.str());
        ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/runtime/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
[24/42] Building CXX object core/CMakeFiles/anolis_http.dir/http/handlers/device_handlers.cpp.o
/home/runner/work/anolis/anolis/core/events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:37:20: warning: 200 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 200;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:39:20: warning: 400 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 400;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:41:20: warning: 404 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 404;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:43:20: warning: 409 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 409;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:45:20: warning: 503 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 503;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:47:20: warning: 504 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 504;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:48:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:23: note: last of these clones ends here
            return 500;
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:49:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:72:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:75:30: note: last of these clones ends here
            return "INTERNAL";
                             ^
/home/runner/work/anolis/anolis/core/http/handlers/device_handlers.cpp:30:5: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
    std::string provider_id, device_id;
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:60: warning: 2 adjacent parameters of 'parse_path_params' of similar type ('std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:73: note: the first parameter in the range is 'provider_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                        ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:99: note: the last parameter in the range is 'device_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                                                  ^~~~~~~~~
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[25/42] Building CXX object core/CMakeFiles/anolis_runtime.dir/runtime/signal_handler.cpp.o
[26/42] Building CXX object core/CMakeFiles/anolis_http.dir/http/handlers/control_handlers.cpp.o
/home/runner/work/anolis/anolis/core/events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:37:20: warning: 200 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 200;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:39:20: warning: 400 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 400;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:41:20: warning: 404 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 404;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:43:20: warning: 409 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 409;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:45:20: warning: 503 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 503;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:47:20: warning: 504 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 504;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:48:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:23: note: last of these clones ends here
            return 500;
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:49:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:72:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:75:30: note: last of these clones ends here
            return "INTERNAL";
                             ^
/home/runner/work/anolis/anolis/core/http/handlers/control_handlers.cpp:28:9: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
        std::string provider_id, device_id;
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/control_handlers.cpp:113:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[HTTP] Call failed: " << result.error_message << " (Code: " << result.status_code
            ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/handlers/control_handlers.cpp:128:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[HTTP] Exception in handle_post_call: " << e.what());
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:60: warning: 2 adjacent parameters of 'parse_path_params' of similar type ('std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:73: note: the first parameter in the range is 'provider_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                        ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:99: note: the last parameter in the range is 'device_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                                                  ^~~~~~~~~
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[27/42] Building CXX object core/CMakeFiles/anolis_http.dir/http/server.cpp.o
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:65:34: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (dropped_count_ % 100 == 1) {
                                 ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:167:33: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    Subscription(SubscriptionId id, std::shared_ptr<SubscriberQueue> queue,
                                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:169:27: warning: parameter 'queue' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                          ^
                          std::move( )
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:169:51: warning: parameter 'unsubscribe_fn' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                                                  ^
                                                  std::move(    )
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:197:47: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::optional<Event> pop(int timeout_ms = 100) {
                                              ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:267:10: warning: function 'matches' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
    bool matches(const Event &event) const {
         ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:269:13: note: nesting level increased to 1
            [this](auto &&e) -> bool {
            ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:273:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!provider_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:274:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:274:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:276:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.provider_id != provider_id) {
                        ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:283:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!device_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:284:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:284:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:286:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.device_id != device_id) {
                        ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:293:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!signal_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:294:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:294:71: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                                                                      ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:295:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.signal_id != signal_id) {
                        ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:269:27: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
            [this](auto &&e) -> bool {
                          ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:27: warning: 2 adjacent parameters of 'EventEmitter' of similar type ('size_t') are easily swapped by mistake [bugprone-easily-swappable-parameters]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:34: note: the first parameter in the range is 'default_queue_size'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                 ^~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:67: note: the last parameter in the range is 'max_subscribers'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                  ^~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:55: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                      ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:328:85: warning: 32 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:355:14: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        auto id = next_subscription_id_++;
             ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:381:18: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        uint64_t id = next_event_id_++;
                 ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:382:32: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
        std::visit([id](auto &&e) { e.event_id = id; }, event);
                               ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:419:37: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    void unsubscribe(SubscriptionId id) {
                                    ^
/home/runner/work/anolis/anolis/core/events/event_emitter.hpp:422:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = subscribers_.find(id);
             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:37:20: warning: 200 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 200;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:39:20: warning: 400 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 400;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:41:20: warning: 404 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 404;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:43:20: warning: 409 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 409;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:45:20: warning: 503 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 503;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:47:20: warning: 504 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 504;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:48:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:51:23: note: last of these clones ends here
            return 500;
                      ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:49:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:51:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:72:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/errors.hpp:75:30: note: last of these clones ends here
            return "INTERNAL";
                             ^
/home/runner/work/anolis/anolis/core/http/server.cpp:31:22: warning: parameter 'event_emitter' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
      event_emitter_(event_emitter),
                     ^
                     std::move(   )
/home/runner/work/anolis/anolis/core/http/server.cpp:37:18: warning: function 'start' has cognitive complexity of 42 (threshold 25) [readability-function-cognitive-complexity]
bool HttpServer::start(std::string &error) {
                 ^
/home/runner/work/anolis/anolis/core/http/server.cpp:38:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (running_.load()) {
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:43:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    LOG_INFO("[HTTP] Starting server on " << config_.bind << ":" << config_.port);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:56:31: note: nesting level increased to 1
    server_->new_task_queue = [pool_size] { return new httplib::ThreadPool(pool_size); };
                              ^
/home/runner/work/anolis/anolis/core/http/server.cpp:60:39: note: nesting level increased to 1
    server_->set_post_routing_handler([allow_credentials, origins = config_.cors_allowed_origins](
                                      ^
/home/runner/work/anolis/anolis/core/http/server.cpp:63:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (origin_it == req.headers.end()) {
        ^
/home/runner/work/anolis/anolis/core/http/server.cpp:68:31: note: nesting level increased to 2
        auto origin_matches = [&origin](const std::string &allowed) {
                              ^
/home/runner/work/anolis/anolis/core/http/server.cpp:69:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (allowed == "*") {
            ^
/home/runner/work/anolis/anolis/core/http/server.cpp:74:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (wildcard_pos == std::string::npos) {
            ^
/home/runner/work/anolis/anolis/core/http/server.cpp:80:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (origin.size() < prefix.size() + suffix.size()) {
            ^
/home/runner/work/anolis/anolis/core/http/server.cpp:86:30: note: +1
            return prefix_ok && suffix_ok;
                             ^
/home/runner/work/anolis/anolis/core/http/server.cpp:90:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (matched == origins.end()) {
        ^
/home/runner/work/anolis/anolis/core/http/server.cpp:95:60: note: +2, including nesting penalty of 1, nesting level increased to 2
        const std::string response_origin = allowed == "*" ? "*" : origin;
                                                           ^
/home/runner/work/anolis/anolis/core/http/server.cpp:100:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (allow_credentials) {
        ^
/home/runner/work/anolis/anolis/core/http/server.cpp:110:32: note: nesting level increased to 1
    server_->set_error_handler([](const httplib::Request &req, httplib::Response &res) {
                               ^
/home/runner/work/anolis/anolis/core/http/server.cpp:112:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (!res.body.empty()) {
        ^
/home/runner/work/anolis/anolis/core/http/server.cpp:119:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (res.status == kStatusNotFound) {
        ^
/home/runner/work/anolis/anolis/core/http/server.cpp:122:16: note: +1, nesting level increased to 2
        } else if (res.status == kStatusBadRequest) {
               ^
/home/runner/work/anolis/anolis/core/http/server.cpp:125:16: note: +1, nesting level increased to 2
        } else if (res.status == kStatusInternal) {
               ^
/home/runner/work/anolis/anolis/core/http/server.cpp:135:36: note: nesting level increased to 1
    server_->set_exception_handler([](const httplib::Request &req, httplib::Response &res, std::exception_ptr ep) {
                                   ^
/home/runner/work/anolis/anolis/core/http/server.cpp:139:11: note: +2, including nesting penalty of 1, nesting level increased to 2
        } catch (const std::exception &e) {
          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:141:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_ERROR("[HTTP] Exception: " << e.what());
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:142:11: note: +2, including nesting penalty of 1, nesting level increased to 2
        } catch (...) {
          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:144:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_ERROR("[HTTP] Unknown exception");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:153:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!server_->bind_to_port(config_.bind.c_str(), config_.port)) {
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:161:52: note: nesting level increased to 1
    server_thread_ = std::make_unique<std::thread>([this]() {
                                                   ^
/home/runner/work/anolis/anolis/core/http/server.cpp:162:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[HTTP] Server thread started");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:164:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[HTTP] Server thread exiting");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:167:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    LOG_INFO("[HTTP] Server listening on " << config_.bind << ":" << config_.port);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/server.cpp:43:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP] Starting server on " << config_.bind << ":" << config_.port);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:97:55: warning: redundant call to 'c_str' [readability-redundant-string-cstr]
        res.set_header("Access-Control-Allow-Origin", response_origin.c_str());
                                                      ^~~~~~~~~~~~~~~~~~~~~~~
                                                      response_origin
/home/runner/work/anolis/anolis/core/http/server.cpp:135:111: warning: parameter name 'ep' is too short, expected at least 3 characters [readability-identifier-length]
    server_->set_exception_handler([](const httplib::Request &req, httplib::Response &res, std::exception_ptr ep) {
                                                                                                              ^
/home/runner/work/anolis/anolis/core/http/server.cpp:138:36: warning: parameter 'ep' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
            std::rethrow_exception(ep);
                                   ^
                                   std::move( )
/home/runner/work/anolis/anolis/core/http/server.cpp:141:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[HTTP] Exception: " << e.what());
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:144:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[HTTP] Unknown exception");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:153:32: warning: redundant call to 'c_str' [readability-redundant-string-cstr]
    if (!server_->bind_to_port(config_.bind.c_str(), config_.port)) {
                               ^~~~~~~~~~~~~~~~~~~~
                               config_.bind
/home/runner/work/anolis/anolis/core/http/server.cpp:162:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[HTTP] Server thread started");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:164:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[HTTP] Server thread exiting");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:167:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP] Server listening on " << config_.bind << ":" << config_.port);
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:176:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP] Stopping server");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:189:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP] Server stopped");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:252:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP] Routes configured:");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:253:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/devices");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:254:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/devices/{provider_id}/{device_id}/capabilities");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:255:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/state");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:256:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/state/{provider_id}/{device_id}");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:257:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   POST /v0/call");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:258:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/runtime/status");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:259:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/mode");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:260:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   POST /v0/mode");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:261:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/parameters");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:262:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   POST /v0/parameters");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/server.cpp:263:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[HTTP]   GET  /v0/events (SSE)");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
[28/42] Building CXX object core/CMakeFiles/bt_nodes_sanity.dir/automation/bt_nodes_sanity.cpp.o
[29/42] Building CXX object core/CMakeFiles/anolis_http.dir/http/handlers/state_handlers.cpp.o
/home/runner/work/anolis/anolis/core/events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:65:34: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (dropped_count_ % 100 == 1) {
                                 ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:167:33: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    Subscription(SubscriptionId id, std::shared_ptr<SubscriberQueue> queue,
                                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:169:27: warning: parameter 'queue' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                          ^
                          std::move( )
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:169:51: warning: parameter 'unsubscribe_fn' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                                                  ^
                                                  std::move(    )
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:197:47: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::optional<Event> pop(int timeout_ms = 100) {
                                              ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:267:10: warning: function 'matches' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
    bool matches(const Event &event) const {
         ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:269:13: note: nesting level increased to 1
            [this](auto &&e) -> bool {
            ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:273:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!provider_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:274:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:274:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:276:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.provider_id != provider_id) {
                        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:283:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!device_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:284:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:284:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:286:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.device_id != device_id) {
                        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:293:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!signal_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:294:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                    ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:294:71: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                                                                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:295:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.signal_id != signal_id) {
                        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:269:27: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
            [this](auto &&e) -> bool {
                          ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:328:27: warning: 2 adjacent parameters of 'EventEmitter' of similar type ('size_t') are easily swapped by mistake [bugprone-easily-swappable-parameters]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:328:34: note: the first parameter in the range is 'default_queue_size'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                 ^~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:328:67: note: the last parameter in the range is 'max_subscribers'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                  ^~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:328:55: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:328:85: warning: 32 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                                    ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:355:14: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        auto id = next_subscription_id_++;
             ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:381:18: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        uint64_t id = next_event_id_++;
                 ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:382:32: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
        std::visit([id](auto &&e) { e.event_id = id; }, event);
                               ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:419:37: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    void unsubscribe(SubscriptionId id) {
                                    ^
/home/runner/work/anolis/anolis/core/http/handlers/../../events/event_emitter.hpp:422:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = subscribers_.find(id);
             ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:37:20: warning: 200 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 200;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:39:20: warning: 400 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 400;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:41:20: warning: 404 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 404;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:43:20: warning: 409 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 409;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:45:20: warning: 503 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 503;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:47:20: warning: 504 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 504;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:48:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:23: note: last of these clones ends here
            return 500;
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:49:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:72:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:75:30: note: last of these clones ends here
            return "INTERNAL";
                             ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:42:5: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
    std::string provider_id, device_id;
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:68:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = req.params.find("signal_id");
             ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:91:30: warning: variable name 'fs' is too short, expected at least 3 characters [readability-identifier-length]
            for (const auto &fs : filter_signals) {
                             ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:97:24: warning: statement should be inside braces [readability-braces-around-statements]
            if (!found) continue;
                       ^
                        {
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:121:18: warning: function 'handle_get_events' has cognitive complexity of 34 (threshold 25) [readability-function-cognitive-complexity]
void HttpServer::handle_get_events(const httplib::Request &req, httplib::Response &res) {
                 ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:123:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!event_emitter_) {
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:131:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (current_clients >= MAX_SSE_CLIENTS) {
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:132:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_WARN("[SSE] Client rejected: max clients (" << MAX_SSE_CLIENTS << ") reached");
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:141:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (req.has_param("provider_id")) {
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:144:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (req.has_param("device_id")) {
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:147:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (req.has_param("signal_id")) {
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:155:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (!subscription) {
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:156:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_ERROR("[SSE] Failed to create subscription");
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:177:9: note: nesting level increased to 1
        [this, subscription, client_name, keepalive_counter](size_t offset, httplib::DataSink &sink) {
        ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:179:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (!running_.load()) {
            ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:186:13: note: +2, including nesting penalty of 1, nesting level increased to 2
            if (event_opt) {
            ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:189:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (!sink.write(sse_data.c_str(), sse_data.size())) {
                ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:190:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    LOG_WARN("[SSE] Write failed for " << client_name);
                    ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:194:15: note: +1, nesting level increased to 2
            } else {
              ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:196:17: note: +3, including nesting penalty of 2, nesting level increased to 3
                if (++(*keepalive_counter) >= 15) {
                ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:198:21: note: +4, including nesting penalty of 3, nesting level increased to 4
                    if (!sink.write(keepalive.c_str(), keepalive.size())) {
                    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:199:25: note: +5, including nesting penalty of 4, nesting level increased to 5
                        LOG_WARN("[SSE] Keep-alive failed for " << client_name);
                        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:208:9: note: nesting level increased to 1
        [this, client_name](bool success) {
        ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:132:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_WARN("[SSE] Client rejected: max clients (" << MAX_SSE_CLIENTS << ") reached");
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:134:22: warning: 503 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        res.status = 503;  // Service Unavailable
                     ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:153:90: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::shared_ptr<events::Subscription> subscription(event_emitter_->subscribe(filter, 100, client_name).release());
                                                                                         ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:156:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("[SSE] Failed to create subscription");
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:158:22: warning: 503 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        res.status = 503;
                     ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:184:48: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            auto event_opt = subscription->pop(1000);  // 1 second timeout
                                               ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:190:21: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                    LOG_WARN("[SSE] Write failed for " << client_name);
                    ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:196:47: warning: 15 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
                if (++(*keepalive_counter) >= 15) {
                                              ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:199:25: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                        LOG_WARN("[SSE] Keep-alive failed for " << client_name);
                        ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:215:25: warning: method 'format_sse_event' can be made static [readability-convert-member-functions-to-static]
std::string HttpServer::format_sse_event(const events::Event &event) {
                        ^
/home/runner/work/anolis/anolis/core/http/handlers/state_handlers.cpp:219:26: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
        [&result](auto &&e) {
                         ^
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:60: warning: 2 adjacent parameters of 'parse_path_params' of similar type ('std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:73: note: the first parameter in the range is 'provider_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                        ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:99: note: the last parameter in the range is 'device_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                                                  ^~~~~~~~~
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[30/42] Building CXX object tests/unit/CMakeFiles/anolis_unit_tests.dir/main.cpp.o
[31/42] Building CXX object core/CMakeFiles/anolis_http.dir/http/handlers/system_handlers.cpp.o
/home/runner/work/anolis/anolis/core/events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/http/handlers/../../automation/parameter_manager.hpp:70:68: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *parameter_value_type_name(const ParameterValue &v) {
                                                                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../../automation/parameter_manager.hpp:71:43: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<double>(v)) return "double";
                                          ^
                                           {
/home/runner/work/anolis/anolis/core/http/handlers/../../automation/parameter_manager.hpp:72:44: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<int64_t>(v)) return "int64";
                                           ^
                                            {
/home/runner/work/anolis/anolis/core/http/handlers/../../automation/parameter_manager.hpp:73:41: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<bool>(v)) return "bool";
                                        ^
                                         {
/home/runner/work/anolis/anolis/core/http/handlers/../../automation/parameter_manager.hpp:74:48: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<std::string>(v)) return "string";
                                               ^
                                                {
/home/runner/work/anolis/anolis/core/http/handlers/../../logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:37:20: warning: 200 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 200;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:39:20: warning: 400 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 400;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:41:20: warning: 404 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 404;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:43:20: warning: 409 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 409;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:45:20: warning: 503 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 503;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:47:20: warning: 504 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 504;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:48:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:23: note: last of these clones ends here
            return 500;
                      ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:49:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:51:20: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            return 500;
                   ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:72:9: warning: switch has 2 consecutive identical branches [bugprone-branch-clone]
        case StatusCode::INTERNAL:
        ^
/home/runner/work/anolis/anolis/core/http/handlers/../errors.hpp:75:30: note: last of these clones ends here
            return "INTERNAL";
                             ^
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:60: warning: 2 adjacent parameters of 'parse_path_params' of similar type ('std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:73: note: the first parameter in the range is 'provider_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                        ^~~~~~~~~~~
/home/runner/work/anolis/anolis/core/http/handlers/utils.hpp:14:99: note: the last parameter in the range is 'device_id'
inline bool parse_path_params(const httplib::Request &req, std::string &provider_id, std::string &device_id) {
                                                                                                  ^~~~~~~~~
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
[32/42] Linking CXX static library core/libanolis_http.a
[33/42] Building CXX object tests/unit/CMakeFiles/anolis_unit_tests.dir/sanity_test.cpp.o
[34/42] Linking CXX executable core/bt_nodes_sanity
[35/42] Building CXX object tests/unit/CMakeFiles/anolis_unit_tests.dir/config_test.cpp.o
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
/home/runner/work/anolis/anolis/tests/unit/config_test.cpp:29:36: warning: 2 adjacent parameters of 'create_config_file' of similar type ('const std::string &') are easily swapped by mistake [bugprone-easily-swappable-parameters]
    std::string create_config_file(const std::string& name, const std::string& content) {
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/tests/unit/config_test.cpp:29:55: note: the first parameter in the range is 'name'
    std::string create_config_file(const std::string& name, const std::string& content) {
                                                      ^~~~
/home/runner/work/anolis/anolis/tests/unit/config_test.cpp:29:80: note: the last parameter in the range is 'content'
    std::string create_config_file(const std::string& name, const std::string& content) {
                                                                               ^~~~~~~
[36/42] Building CXX object core/CMakeFiles/anolis_runtime.dir/runtime/runtime.cpp.o
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:58:28: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        int tick_rate_hz = 10;           // BT tick frequency (default 10 Hz)
                           ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:103:35: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    bool start(int tick_rate_hz = 10);
                                  ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:154:25: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz_ = 10;
                        ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:70:68: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *parameter_value_type_name(const ParameterValue &v) {
                                                                   ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:71:43: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<double>(v)) return "double";
                                          ^
                                           {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:72:44: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<int64_t>(v)) return "int64";
                                           ^
                                            {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:73:41: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<bool>(v)) return "bool";
                                        ^
                                         {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:74:48: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<std::string>(v)) return "string";
                                               ^
                                                {
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:36: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                   ^   ~
                                       U
/home/runner/work/anolis/anolis/core/provider/framed_stdio_client.hpp:11:44: warning: integer literal has suffix 'u', which is not uppercase [readability-uppercase-literal-suffix]
constexpr uint32_t kMaxFrameSize = 1024u * 1024u;
                                           ^   ~
                                               U
/home/runner/work/anolis/anolis/core/provider/provider_handle.hpp:20:80: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
                   const std::vector<std::string> &args = {}, int timeout_ms = 5000);
                                                                               ^
/home/runner/work/anolis/anolis/core/runtime/../automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:18:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] Initializing Anolis Core");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:48:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] Initialization complete");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:58:61: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    event_emitter_ = std::make_shared<events::EventEmitter>(100, 32);
                                                            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:58:66: warning: 32 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    event_emitter_ = std::make_shared<events::EventEmitter>(100, 32);
                                                                 ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:59:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] Event emitter created (max " << event_emitter_->max_subscribers() << " subscribers)");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:76:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Starting provider: " << provider_config.id);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:77:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_DEBUG("[Runtime]   Command: " << provider_config.command);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:37:24: note: expanded from macro 'LOG_DEBUG'
#define LOG_DEBUG(msg) LOG_INTERNAL(anolis::logging::Level::LVL_DEBUG, msg)
                       ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:87:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Provider " << provider_config.id << " started");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:98:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] All providers started");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:102:15: warning: function 'init_automation' has cognitive complexity of 83 (threshold 25) [readability-function-cognitive-complexity]
bool Runtime::init_automation(std::string &error) {
              ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:104:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config_.automation.enabled) {
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:109:78: note: +2, including nesting penalty of 1, nesting level increased to 2
            (config_.automation.manual_gating_policy == GatingPolicy::BLOCK) ? "BLOCK" : "OVERRIDE";
                                                                             ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:114:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config_.automation.enabled) {
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:115:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[Runtime] Creating parameter manager");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:119:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        for (const auto &param_config : config_.automation.parameters) {
        ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:121:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (param_config.type == "double") {
            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:123:20: note: +1, nesting level increased to 3
            } else if (param_config.type == "int64") {
                   ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:125:20: note: +1, nesting level increased to 3
            } else if (param_config.type == "bool") {
                   ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:127:20: note: +1, nesting level increased to 3
            } else if (param_config.type == "string") {
                   ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:129:15: note: +1, nesting level increased to 3
            } else {
              ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:130:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                LOG_WARN("[Runtime] Invalid parameter type: " << param_config.type);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:135:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (param_config.type == "double") {
            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:137:20: note: +1, nesting level increased to 3
            } else if (param_config.type == "int64") {
                   ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:139:20: note: +1, nesting level increased to 3
            } else if (param_config.type == "bool") {
                   ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:141:20: note: +1, nesting level increased to 3
            } else if (param_config.type == "string") {
                   ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:146:38: note: +3, including nesting penalty of 2, nesting level increased to 3
                param_config.has_min ? std::make_optional(param_config.min_value) : std::nullopt;
                                     ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:148:38: note: +3, including nesting penalty of 2, nesting level increased to 3
                param_config.has_max ? std::make_optional(param_config.max_value) : std::nullopt;
                                     ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:150:53: note: +3, including nesting penalty of 2, nesting level increased to 3
                param_config.allowed_values.empty() ? std::nullopt : std::make_optional(param_config.allowed_values);
                                                    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:152:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (!parameter_manager_->define(param_config.name, type, value, min, max, allowed)) {
            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:153:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                LOG_WARN("[Runtime] Failed to define parameter: " << param_config.name);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:157:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[Runtime] Parameter manager initialized with " << parameter_manager_->parameter_count()
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:162:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (mode_manager_) {
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:163:39: note: nesting level increased to 2
        mode_manager_->on_mode_change([this](automation::RuntimeMode prev, automation::RuntimeMode next) {
                                      ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:164:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (event_emitter_) {
            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:174:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                LOG_INFO("[Runtime] Mode change event emitted: " << event.previous_mode << " -> " << event.new_mode);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:180:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (parameter_manager_) {
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:181:49: note: nesting level increased to 2
        parameter_manager_->on_parameter_change([this](const std::string &name,
                                                ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:184:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (event_emitter_) {
            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:186:40: note: nesting level increased to 4
                auto value_to_string = [](const automation::ParameterValue &v) -> std::string {
                                       ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:187:21: note: +5, including nesting penalty of 4, nesting level increased to 5
                    if (std::holds_alternative<double>(v)) {
                    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:189:28: note: +1, nesting level increased to 5
                    } else if (std::holds_alternative<int64_t>(v)) {
                           ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:191:28: note: +1, nesting level increased to 5
                    } else if (std::holds_alternative<bool>(v)) {
                           ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:192:50: note: +6, including nesting penalty of 5, nesting level increased to 6
                        return std::get<bool>(v) ? "true" : "false";
                                                 ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:193:28: note: +1, nesting level increased to 5
                    } else if (std::holds_alternative<std::string>(v)) {
                           ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:209:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                LOG_INFO("[Runtime] Parameter '" << name << "' changed: " << event.old_value_str << " -> "
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:216:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (config_.automation.enabled) {
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:217:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[Runtime] Creating BT runtime");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:222:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (!bt_runtime_->load_tree(config_.automation.behavior_tree)) {
        ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:227:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[Runtime] Behavior tree loaded: " << config_.automation.behavior_tree);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:228:7: note: +1, nesting level increased to 1
    } else {
      ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:229:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        LOG_INFO("[Runtime] Automation disabled in config");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:115:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Creating parameter manager");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:130:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_WARN("[Runtime] Invalid parameter type: " << param_config.type);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:153:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_WARN("[Runtime] Failed to define parameter: " << param_config.name);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:157:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Parameter manager initialized with " << parameter_manager_->parameter_count()
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:174:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_INFO("[Runtime] Mode change event emitted: " << event.previous_mode << " -> " << event.new_mode);
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:186:77: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
                auto value_to_string = [](const automation::ParameterValue &v) -> std::string {
                                                                            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:189:23: warning: do not use 'else' after 'return' [readability-else-after-return]
                    } else if (std::holds_alternative<int64_t>(v)) {
                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:209:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_INFO("[Runtime] Parameter '" << name << "' changed: " << event.old_value_str << " -> "
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:217:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Creating BT runtime");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:227:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Behavior tree loaded: " << config_.automation.behavior_tree);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:229:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Automation disabled in config");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:238:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Creating HTTP server");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:251:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] HTTP server started on " << config_.http.bind << ":" << config_.http.port);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:253:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] HTTP server disabled in config");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:261:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Creating telemetry sink");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:276:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[Runtime] Telemetry sink failed to start");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:279:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_INFO("[Runtime] Telemetry sink started");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:282:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Telemetry disabled in config");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:287:15: warning: function 'run' has cognitive complexity of 29 (threshold 25) [readability-function-cognitive-complexity]
void Runtime::run() {
              ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:288:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    LOG_INFO("[Runtime] Starting main loop");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:294:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    LOG_INFO("[Runtime] State cache polling active");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:297:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    if (bt_runtime_) {
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:298:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (!bt_runtime_->start(config_.automation.tick_rate_hz)) {
        ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:299:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_WARN("[Runtime] BT runtime failed to start");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:300:11: note: +1, nesting level increased to 2
        } else {
          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:301:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_INFO("[Runtime] BT runtime started (tick rate: " << config_.automation.tick_rate_hz << " Hz)");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:305:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    LOG_INFO("[Runtime] Press Ctrl+C to exit");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:309:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    while (running_) {
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:313:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        if (anolis::runtime::SignalHandler::is_shutdown_requested()) {
        ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:314:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            LOG_INFO("[Runtime] Signal received, stopping...");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:320:9: note: +2, including nesting penalty of 1, nesting level increased to 2
        for (const auto &[id, provider] : providers_) {
        ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:321:13: note: +3, including nesting penalty of 2, nesting level increased to 3
            if (!provider->is_available()) {
            ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:322:17: note: +4, including nesting penalty of 3, nesting level increased to 4
                LOG_WARN("[Runtime] Provider " << id << " unavailable");
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:327:5: note: +1, including nesting penalty of 0, nesting level increased to 1
    LOG_INFO("[Runtime] Shutting down");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:31:5: note: expanded from macro 'LOG_INTERNAL'
    do {                                                                     \
    ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:288:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] Starting main loop");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:294:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] State cache polling active");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:299:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[Runtime] BT runtime failed to start");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:301:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_INFO("[Runtime] BT runtime started (tick rate: " << config_.automation.tick_rate_hz << " Hz)");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:305:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] Press Ctrl+C to exit");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:310:63: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        std::this_thread::sleep_for(std::chrono::milliseconds(100));
                                                              ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:314:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_INFO("[Runtime] Signal received, stopping...");
            ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:322:17: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
                LOG_WARN("[Runtime] Provider " << id << " unavailable");
                ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:327:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("[Runtime] Shutting down");
    ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:334:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Stopping BT runtime");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:340:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Stopping HTTP server");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:346:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Stopping telemetry sink");
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/runtime/runtime.cpp:355:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[Runtime] Stopping provider: " << id);
        ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:65:34: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (dropped_count_ % 100 == 1) {
                                 ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:167:33: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    Subscription(SubscriptionId id, std::shared_ptr<SubscriberQueue> queue,
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:169:27: warning: parameter 'queue' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                          ^
                          std::move( )
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:169:51: warning: parameter 'unsubscribe_fn' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                                                  ^
                                                  std::move(    )
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:197:47: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::optional<Event> pop(int timeout_ms = 100) {
                                              ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:267:10: warning: function 'matches' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
    bool matches(const Event &event) const {
         ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:269:13: note: nesting level increased to 1
            [this](auto &&e) -> bool {
            ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:273:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!provider_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:274:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:274:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:276:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.provider_id != provider_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:283:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!device_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:284:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:284:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:286:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.device_id != device_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:293:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!signal_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:294:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:294:71: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                                                                      ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:295:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.signal_id != signal_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:269:27: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
            [this](auto &&e) -> bool {
                          ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:27: warning: 2 adjacent parameters of 'EventEmitter' of similar type ('size_t') are easily swapped by mistake [bugprone-easily-swappable-parameters]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:34: note: the first parameter in the range is 'default_queue_size'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                 ^~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:67: note: the last parameter in the range is 'max_subscribers'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                  ^~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:55: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                      ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:85: warning: 32 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:355:14: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        auto id = next_subscription_id_++;
             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:381:18: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        uint64_t id = next_event_id_++;
                 ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:382:32: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
        std::visit([id](auto &&e) { e.event_id = id; }, event);
                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:419:37: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    void unsubscribe(SubscriptionId id) {
                                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:422:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = subscribers_.find(id);
             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:57:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:58:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:61:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // HTTP request timeout
                     ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:62:29: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int retry_interval_ms = 10000;  // Retry interval on connection failure
                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:65:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:74:50: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
inline std::string escape_tag(const std::string &s) {
                                                 ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:76:31: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    result.reserve(s.size() + 10);  // Reserve extra for escapes
                              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:77:15: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (char c : s) {
              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:86:59: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
inline std::string escape_field_string(const std::string &s) {
                                                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:88:31: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    result.reserve(s.size() + 10);
                              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:89:15: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (char c : s) {
              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:128:38: warning: repeated branch in conditional chain [bugprone-branch-clone]
                if (std::isnan(arg)) {
                                     ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:131:18: note: end of the original
                } else if (std::isinf(arg)) {
                 ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:131:45: note: clone 1 starts here
                } else if (std::isinf(arg)) {
                                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:240:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[InfluxSink] Already running");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:245:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_INFO("[InfluxSink] Telemetry disabled in config");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:250:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[InfluxSink] No API token configured");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:254:20: warning: parameter 'emitter' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        emitter_ = emitter;
                   ^
                   std::move( )
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:260:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[InfluxSink] Failed to subscribe to events");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:267:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[InfluxSink] Started, writing to " << config_.url << "/" << config_.bucket);
        ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:277:30: warning: statement should be inside braces [readability-braces-around-statements]
        if (!running_.load()) return;
                             ^
                              {
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:293:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[InfluxSink] Stopped. Written: " << total_written_ << ", Failed: " << total_failed_);
        ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:333:49: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            auto event_opt = subscription_->pop(100);  // 100ms timeout
                                                ^
[37/42] Linking CXX static library core/libanolis_runtime.a
[38/42] Building CXX object core/CMakeFiles/anolis-runtime.dir/src/main.cpp.o
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:58:28: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        int tick_rate_hz = 10;           // BT tick frequency (default 10 Hz)
                           ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:103:35: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    bool start(int tick_rate_hz = 10);
                                  ^
/home/runner/work/anolis/anolis/core/automation/bt_runtime.hpp:154:25: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz_ = 10;
                        ^
/home/runner/work/anolis/anolis/core/automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:70:68: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *parameter_value_type_name(const ParameterValue &v) {
                                                                   ^
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:71:43: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<double>(v)) return "double";
                                          ^
                                           {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:72:44: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<int64_t>(v)) return "int64";
                                           ^
                                            {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:73:41: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<bool>(v)) return "bool";
                                        ^
                                         {
/home/runner/work/anolis/anolis/core/automation/parameter_manager.hpp:74:48: warning: statement should be inside braces [readability-braces-around-statements]
    if (std::holds_alternative<std::string>(v)) return "string";
                                               ^
                                                {
/home/runner/work/anolis/anolis/core/logging/logger.hpp:33:15: warning: macro argument should be enclosed in parentheses [bugprone-macro-parentheses]
        ss << msg;                                                           \
              ^
              (  )
/home/runner/work/anolis/anolis/core/runtime/config.hpp:18:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // ADPP operation timeout (default 5s)
                     ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:22:23: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int interval_ms = 500;  // Default 500ms
                      ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:32:16: warning: 8080 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int port = 8080;                                     // HTTP port
               ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:35:28: warning: 40 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int thread_pool_size = 40;                           // Worker thread pool size
                           ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:52:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:53:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:56:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/runtime/config.hpp:82:24: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int tick_rate_hz = 10;                                    // BT tick rate (1-1000 Hz)
                       ^
/home/runner/work/anolis/anolis/core/src/main.cpp:22:34: warning: 9 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        } else if (arg.substr(0, 9) == "--config=") {
                                 ^
/home/runner/work/anolis/anolis/core/src/main.cpp:23:38: warning: 9 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            config_path = arg.substr(9);
                                     ^
/home/runner/work/anolis/anolis/core/src/main.cpp:45:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("Anolis Core Runtime v0 starting...");
    ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:46:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("Loading config: " + config_path);
    ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:53:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("Failed to load config: " + error);
        ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:64:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_ERROR("Runtime initialization failed: " + error);
        ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:71:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("Runtime Ready");
    ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:72:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("  Providers: " << config.providers.size());
    ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:73:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("  Devices: " << runtime.get_registry().device_count());
    ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:74:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("  Polling: " << config.polling.interval_ms << "ms");
    ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/src/main.cpp:79:5: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
    LOG_INFO("Shutdown complete");
    ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:65:34: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            if (dropped_count_ % 100 == 1) {
                                 ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:167:33: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    Subscription(SubscriptionId id, std::shared_ptr<SubscriberQueue> queue,
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:169:27: warning: parameter 'queue' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                          ^
                          std::move( )
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:169:51: warning: parameter 'unsubscribe_fn' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        : id_(id), queue_(queue), unsubscribe_fn_(unsubscribe_fn) {}
                                                  ^
                                                  std::move(    )
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:197:47: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::optional<Event> pop(int timeout_ms = 100) {
                                              ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:267:10: warning: function 'matches' has cognitive complexity of 30 (threshold 25) [readability-function-cognitive-complexity]
    bool matches(const Event &event) const {
         ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:269:13: note: nesting level increased to 1
            [this](auto &&e) -> bool {
            ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:273:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!provider_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:274:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:274:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:276:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.provider_id != provider_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:283:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!device_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:284:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:284:112: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent> ||
                                                                                                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:286:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.device_id != device_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:293:17: note: +2, including nesting penalty of 1, nesting level increased to 2
                if (!signal_id.empty()) {
                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:294:21: note: +3, including nesting penalty of 2, nesting level increased to 3
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:294:71: note: +1
                    if constexpr (std::is_same_v<T, StateUpdateEvent> || std::is_same_v<T, QualityChangeEvent>) {
                                                                      ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:295:25: note: +4, including nesting penalty of 3, nesting level increased to 4
                        if (e.signal_id != signal_id) {
                        ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:269:27: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
            [this](auto &&e) -> bool {
                          ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:27: warning: 2 adjacent parameters of 'EventEmitter' of similar type ('size_t') are easily swapped by mistake [bugprone-easily-swappable-parameters]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:34: note: the first parameter in the range is 'default_queue_size'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                 ^~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:67: note: the last parameter in the range is 'max_subscribers'
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                  ^~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:55: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                      ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:328:85: warning: 32 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    explicit EventEmitter(size_t default_queue_size = 100, size_t max_subscribers = 32)
                                                                                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:355:14: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        auto id = next_subscription_id_++;
             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:381:18: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
        uint64_t id = next_event_id_++;
                 ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:382:32: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
        std::visit([id](auto &&e) { e.event_id = id; }, event);
                               ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:419:37: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    void unsubscribe(SubscriptionId id) {
                                    ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_emitter.hpp:422:14: warning: variable name 'it' is too short, expected at least 3 characters [readability-identifier-length]
        auto it = subscribers_.find(id);
             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:44:46: warning: parameter name 'q' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *quality_to_string(Quality q) {
                                             ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:75:54: warning: parameter name 'v' is too short, expected at least 3 characters [readability-identifier-length]
inline const char *value_type_name(const TypedValue &v) {
                                                     ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:79:53: warning: statement should be inside braces [readability-braces-around-statements]
            if constexpr (std::is_same_v<T, double>)
                                                    ^
                                                     {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:81:59: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, int64_t>)
                                                          ^
                                                           {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:83:60: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, uint64_t>)
                                                           ^
                                                            {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:85:56: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, bool>)
                                                       ^
                                                        {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:87:63: warning: statement should be inside braces [readability-braces-around-statements]
            else if constexpr (std::is_same_v<T, std::string>)
                                                              ^
                                                               {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:89:17: warning: statement should be inside braces [readability-braces-around-statements]
            else
                ^
                 {
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:104:44: warning: parameter name 'a' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                           ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:104:65: warning: parameter name 'b' is too short, expected at least 3 characters [readability-identifier-length]
inline bool values_equal(const TypedValue &a, const TypedValue &b) {
                                                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:116:17: warning: multiple declarations in a single statement reduces readability [readability-isolate-declaration]
                uint64_t bits_a, bits_b;
                ^~~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:148:45: warning: parameter name 'id' is too short, expected at least 3 characters [readability-identifier-length]
    static StateUpdateEvent create(uint64_t id, const std::string &provider_id, const std::string &device_id,
                                            ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:223:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.event_id; }, event);
                                ^
/home/runner/work/anolis/anolis/core/telemetry/../events/event_types.hpp:230:33: warning: parameter name 'e' is too short, expected at least 3 characters [readability-identifier-length]
    return std::visit([](auto &&e) { return e.timestamp_ms; }, event);
                                ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:57:25: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t batch_size = 100;       // Flush when batch reaches this size
                        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:58:29: warning: 1000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int flush_interval_ms = 1000;  // Flush every N milliseconds
                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:61:22: warning: 5000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int timeout_ms = 5000;          // HTTP request timeout
                     ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:62:29: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    int retry_interval_ms = 10000;  // Retry interval on connection failure
                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:65:25: warning: 10000 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    size_t queue_size = 10000;  // Event queue size
                        ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:74:50: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
inline std::string escape_tag(const std::string &s) {
                                                 ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:76:31: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    result.reserve(s.size() + 10);  // Reserve extra for escapes
                              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:77:15: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (char c : s) {
              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:86:59: warning: parameter name 's' is too short, expected at least 3 characters [readability-identifier-length]
inline std::string escape_field_string(const std::string &s) {
                                                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:88:31: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    result.reserve(s.size() + 10);
                              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:89:15: warning: variable name 'c' is too short, expected at least 3 characters [readability-identifier-length]
    for (char c : s) {
              ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:128:38: warning: repeated branch in conditional chain [bugprone-branch-clone]
                if (std::isnan(arg)) {
                                     ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:131:18: note: end of the original
                } else if (std::isinf(arg)) {
                 ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:131:45: note: clone 1 starts here
                } else if (std::isinf(arg)) {
                                            ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:240:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_WARN("[InfluxSink] Already running");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:39:23: note: expanded from macro 'LOG_WARN'
#define LOG_WARN(msg) LOG_INTERNAL(anolis::logging::Level::LVL_WARN, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:245:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_INFO("[InfluxSink] Telemetry disabled in config");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:250:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[InfluxSink] No API token configured");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:254:20: warning: parameter 'emitter' is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]
        emitter_ = emitter;
                   ^
                   std::move( )
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:260:13: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
            LOG_ERROR("[InfluxSink] Failed to subscribe to events");
            ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:40:24: note: expanded from macro 'LOG_ERROR'
#define LOG_ERROR(msg) LOG_INTERNAL(anolis::logging::Level::LVL_ERROR, msg)
                       ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:267:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[InfluxSink] Started, writing to " << config_.url << "/" << config_.bucket);
        ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:277:30: warning: statement should be inside braces [readability-braces-around-statements]
        if (!running_.load()) return;
                             ^
                              {
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:293:9: warning: variable name 'ss' is too short, expected at least 3 characters [readability-identifier-length]
        LOG_INFO("[InfluxSink] Stopped. Written: " << total_written_ << ", Failed: " << total_failed_);
        ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:38:23: note: expanded from macro 'LOG_INFO'
#define LOG_INFO(msg) LOG_INTERNAL(anolis::logging::Level::LVL_INFO, msg)
                      ^
/home/runner/work/anolis/anolis/core/telemetry/../logging/logger.hpp:32:27: note: expanded from macro 'LOG_INTERNAL'
        std::stringstream ss;                                                \
                          ^
/home/runner/work/anolis/anolis/core/telemetry/influx_sink.hpp:333:49: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            auto event_opt = subscription_->pop(100);  // 100ms timeout
                                                ^
[39/42] Linking CXX executable core/anolis-runtime
[40/42] Building CXX object tests/unit/CMakeFiles/anolis_unit_tests.dir/state_cache_test.cpp.o
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
/home/runner/work/anolis/anolis/tests/unit/mocks/mock_provider_handle.hpp:41:21: warning: redundant string initialization [readability-redundant-string-init]
        std::string _err = "";
                    ^~~~~~~~~
                    _err
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:69:66: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    state_cache = std::make_unique<state::StateCache>(*registry, 100);
                                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:77:66: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    state_cache = std::make_unique<state::StateCache>(*registry, 100);
                                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:86:29: warning: variable name 'id' is too short, expected at least 3 characters [readability-identifier-length]
            for(const auto& id : ids) if(id == "temp") asking_temp = true;
                            ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:86:38: warning: statement should be inside braces [readability-braces-around-statements]
            for(const auto& id : ids) if(id == "temp") asking_temp = true;
                                     ^
                                      {
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:86:55: warning: statement should be inside braces [readability-braces-around-statements]
            for(const auto& id : ids) if(id == "temp") asking_temp = true;
                                                      ^
                                                       {
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:91:19: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
            auto* v = response.add_values();
                  ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:93:50: warning: 25.5 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            v->mutable_value()->set_double_value(25.5);
                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:108:66: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    state_cache = std::make_unique<state::StateCache>(*registry, 100);
                                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:115:19: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
            auto* v = response.add_values();
                  ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:117:50: warning: 25.5 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            v->mutable_value()->set_double_value(25.5);
                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:127:1: warning: function 'TestBody' has cognitive complexity of 28 (threshold 25) [readability-function-cognitive-complexity]
TEST_F(StateCacheTest, TimeBasedStaleness)
^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:130:66: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    state_cache = std::make_unique<state::StateCache>(*registry, 100);
                                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:137:19: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
            auto* v = response.add_values();
                  ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:139:50: warning: 25.5 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            v->mutable_value()->set_double_value(25.5);
                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:176:66: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    state_cache = std::make_unique<state::StateCache>(*registry, 10); // Fast poll
                                                                 ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:188:23: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
                auto* v = response.add_values();
                      ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:190:63: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
                v->mutable_value()->set_double_value(rand() % 100);
                                                              ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:197:67: warning: 5 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
            std::this_thread::sleep_for(std::chrono::milliseconds(5));
                                                                  ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:202:25: warning: 5 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    for (int i = 0; i < 5; ++i)
                        ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:204:9: warning: 'emplace_back' is called inside a loop; consider pre-allocating the container capacity before the loop [performance-inefficient-vector-operation]
        readers.emplace_back([&]()
        ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:210:62: warning: statement should be inside braces [readability-braces-around-statements]
                    if(res && res->value.double_value() < -1) failed = true; 
                                                             ^
                                                              {
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:217:59: warning: 300 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    std::this_thread::sleep_for(std::chrono::milliseconds(300));
                                                          ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:221:16: warning: variable name 't' is too short, expected at least 3 characters [readability-identifier-length]
    for (auto &t : readers)
               ^
/home/runner/work/anolis/anolis/tests/unit/state_cache_test.cpp:221:28: warning: statement should be inside braces [readability-braces-around-statements]
    for (auto &t : readers)
                           ^
                            {
[41/42] Building CXX object tests/unit/CMakeFiles/anolis_unit_tests.dir/call_router_test.cpp.o
/home/runner/work/anolis/anolis/core/automation/mode_manager.hpp:102:60: warning: parameter name 'to' is too short, expected at least 3 characters [readability-identifier-length]
    bool is_valid_transition(RuntimeMode from, RuntimeMode to) const;
                                                           ^
/home/runner/work/anolis/anolis/core/state/state_cache.hpp:53:81: warning: 500 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    StateCache(const registry::DeviceRegistry &registry, int poll_interval_ms = 500);
                                                                                ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:25:70: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        state_cache = std::make_unique<state::StateCache>(*registry, 100);
                                                                     ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:60:24: warning: variable name 'fn' is too short, expected at least 3 characters [readability-identifier-length]
                 auto* fn = caps->add_functions();
                       ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:249:70: warning: 100 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
        state_cache = std::make_unique<state::StateCache>(*registry, 100);
                                                                     ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:311:38: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
                 arg3->set_max_int64(10);
                                     ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:328:11: warning: method 'make_double' can be made static [readability-convert-member-functions-to-static]
    Value make_double(double val)
          ^
    static 
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:330:15: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
        Value v;
              ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:336:11: warning: method 'make_int64' can be made static [readability-convert-member-functions-to-static]
    Value make_int64(int64_t val)
          ^
    static 
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:338:15: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
        Value v;
              ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:344:11: warning: method 'make_string' can be made static [readability-convert-member-functions-to-static]
    Value make_string(const std::string &val)
          ^
    static 
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:346:15: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
        Value v;
              ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:352:11: warning: method 'make_bool' can be made static [readability-convert-member-functions-to-static]
    Value make_bool(bool val)
          ^
    static 
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:354:15: warning: variable name 'v' is too short, expected at least 3 characters [readability-identifier-length]
        Value v;
              ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:372:37: warning: 50.0 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["value"] = make_double(50.0);
                                    ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:383:37: warning: 50.0 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["value"] = make_double(50.0);
                                    ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:420:37: warning: 5.0 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["index"] = make_double(5.0);  // Wrong type (double instead of int64)
                                    ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:446:38: warning: 10.0 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["value"] = make_double(-10.0);  // Below min (0.0)
                                     ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:458:37: warning: 150.0 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["value"] = make_double(150.0);  // Above max (100.0)
                                    ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:498:36: warning: 20 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["index"] = make_int64(20);  // Above max (10)
                                   ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:517:36: warning: 10 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["index"] = make_int64(10);
                                   ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:526:37: warning: 50.0 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["value"] = make_double(50.0);
                                    ^
/home/runner/work/anolis/anolis/tests/unit/call_router_test.cpp:539:37: warning: 50.0 is a magic number; consider replacing it with a named constant [readability-magic-numbers]
    req.args["value"] = make_double(50.0);
                                    ^
/home/runner/work/anolis/anolis/tests/unit/mocks/mock_provider_handle.hpp:41:21: warning: redundant string initialization [readability-redundant-string-init]
        std::string _err = "";
                    ^~~~~~~~~
                    _err
[42/42] Linking CXX executable tests/unit/anolis_unit_tests
